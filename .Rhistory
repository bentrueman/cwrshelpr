read_icp(file)
document()
check()
use_readme_rmd()
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file) # read and clean
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file) # read and clean
build_readme()
build_readme()
check()
use_r("read_icp")
build_readme()
document()
build_readme()
check()
build_readme()
?read_icp
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(file)
list.files("inst/ext")
list.files("inst/extdata")
list.files("inst/extdata", full.names = TRUE)
list.files("inst/extdata", full.names = TRUE) %>%
readxl::read_excel()
library("tidyverse")
list.files("inst/extdata", full.names = TRUE) %>%
readxl::read_excel()
list.files("inst/extdata", full.names = TRUE) %>%
readxl::read_excel() %>%
distinct(`...2`)
list.files("inst/extdata", full.names = TRUE) %>%
readxl::read_excel() %>%
distinct(`...4`)
library("cwrshelpr")
library(devtools)
load("cwrshelpr")
load_all()
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file) # read and clean
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
file
read_icp(path = file[1]) # read and clean one file
library("tidyverse")
file %>%
set_names()
?read_icp
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") # read and clean mulitple files
read_icp(path = file[1]) # read and clean one file
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") # read and clean mulitple files
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") %>% View # read and clean mulitple files
build_readme()
load_all()
library("tidyverse")
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1]) # read and clean one file
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") # read and clean mulitple files
document()
build_readme()
check()
read_icp(path = file[1]) %>% nrow()
read_icp(path = file[1])
read_icp(path = file[1]) %>% View
read_icp(path = file[1]) %>% distinct(sample_name)
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
file
library(devtools)
library("tidyverse")
library("cwrshelpr")
load()
load_all()
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1]) # read and clean one file
library(devtools)
load_all()
library("tidyverse")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
file
read_icp(path = file[1]) # read and clean one file
document()
remotes::install_github("bentrueman/cwrshelpr")
library("tidyverse")
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1])
read_icp(path = file[1]) %>% View
library("tidyverse")
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1]) # read and clean one file
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") # read and clean mulitple files
system.file("extdata", package = "cwrshelpr")
list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
library(devtools)
load_all()
library("tidyverse")
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1]) # read and clean one file
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") # read and clean mulitple files
read_icp(path = file[1]) %>% distinct(estimate_type)
read_icp(path = file[1]) %>% distinct(sample_name)
file %>%
set_names() %>%
map_dfr(read_icp, .id = "file") %>% distinct(sample_name)
?read_icp
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(file)
?use_r("read_icp")
use_r("read_icp")
document()
build_readme()
check()
build_readme()
remotes::install_github("bentrueman/cwrshelpr")
library("tidyverse")
library("cwrshelpr")
# example path to example raw data file
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(path = file[1]) %>% View
library(devtools)
build_readme()
build_readme()
library("devtools")
use_r("read_feem")
load_all()
?read_icp
load_all
load_all()
?read_icp
document()
load_all()
?read_feem
?read_icp
system.file("extdata", package = "cwrshelpr")
list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
read_icp(file[1])
list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE
)
build_readme()
?read_icp
document()
document()
?load_all)
?load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_icp(file[1])
document()
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
?read_csv
document()
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
load_all()
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
load_all()
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
library("tidyverse")
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1]) -> test
test
test %>% mutate(across(is.numeric, ~ if_else(.x < 0, 0, .x)))
test %>% mutate(across(where(is.numeric), ~ if_else(.x < 0, 0, .x)))
test %>% mutate(across(where(is.numeric), ~ if_else(.x < 0, 0, .x)))
test %>% distinct(`Sample - Blank`)
test %>% distinct(`Sample - Blank`) %>% View
load_all()
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
load_all()
?read_feem()
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1]) -> test
test %>%
ggplot(aes(excitation, emission, fill = intensity)) +
test %>%
ggplot(aes(excitation, emission, fill = intensity)) +
geom_raster()
test %>%
ggplot(aes(excitation, emission, fill = intensity)) +
geom_raster()
test$emission %>% unique()
test$emission %>% unique() %>% diff()
test$emission %>% unique() %>% diff() %>% unique()
test$excitation %>% unique() %>% diff() %>% unique()
test
with(test, seq(min(emission), max(emission), length.out = length(unique(emission))))
with(test, seq(min(emission), max(emission), length.out = length(unique(emission)))) %>% diff()
with(test, seq(min(emission), max(emission), length.out = length(unique(emission)))) %>% diff() %>% unique()
with(test, seq(min(emission), max(emission), length.out = length(unique(emission))))
test %>% group_by(emission) %>% nest() %>% ungroup()
test %>% group_by(emission) %>% nest() %>% ungroup() %>% mutate(em2 = seq(min(emission), max(emission), length.out = length(unique(emission))))
test %>% group_by(emission) %>% nest() %>% ungroup() %>% mutate(em2 = seq(min(emission), max(emission), length.out = length(unique(emission)))) %>% unnest(data)
test %>% group_by(emission) %>% nest()
test %>% group_by(emission) %>% nest() %>% arrange(emission)
test %>% group_by(emission) %>% nest() %>% ungroup()
View(test)
?n_distinct
?arrange
load_all()
?read_feem
document()
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
load_all()
?read_feem
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1]) -> test
test %>%
ggplot(aes(em_regular, excitation, fill = intensity)) +
geom_raster()
document()
load_all()
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1]) -> test
test
test %>%
ggplot(aes(em_regular, excitation, fill = intensity)) +
geom_raster()
test %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
geom_raster()
use_test("read_feem")
test_that("read_feem() returns the expected number of rows", {
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
expect_equal(
dim(read_feem(file[1]))[1],
15125
)
})
document()
check()
use_package("readr")
check()
use_r("read_feem")
?rename
document()
check()
?read_icp
file <- list.files(
path = system.file("extdata", package = "cwrshelpr"),
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(file[1])
document()
check()
files <- list.files(
path = system.file("extdata", package = "cwrshelpr"), # replace this line with the path to your data
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(path = files[1]) # read and clean one file
feem_dat <- files %>%
set_names() %>%
map_dfr(read_feem, .id = "file") # read and clean multiple files
feem_dat
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_color_viridis_b()
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_b()
?scale_fill_viridis_b
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
?stat_contour
ggplot2::stat_contour
?ggplot2::stat_contour
feem_dat %>%
ggplot(aes(excitation, em_regular, z = intensity, fill = stat(level))) +
facet_wrap(vars(file)) +
stat_contour(geom = "polygon")
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster()
?viridis
scale_fill_viridis_b()
scale_fill_viridis()
scale_fill_viridis_b()
?scale_fill_viridis_b()
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_b()
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_b(guide = "colorbar")
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_c()
files <- list.files(
path = system.file("extdata", package = "cwrshelpr"), # replace this line with the path to your data
full.names = TRUE,
pattern = ".+\\.csv"
)
read_feem(path = files[1]) # read and clean one file
feem_dat <- files %>%
set_names() %>%
map_dfr(~ read_feem(.x, truncate = TRUE), .id = "file") # read and clean multiple files
feem_dat %>%
ggplot(aes(excitation, em_regular, z = intensity, fill = stat(level))) +
facet_wrap(vars(file)) +
stat_contour(geom = "polygon")
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_c()
feem_dat %>%
ggplot(aes(excitation, em_regular, fill = intensity)) +
facet_wrap(vars(file)) +
geom_raster() +
scale_fill_viridis_c()
feem_dat %>%
ggplot(aes(excitation, em_regular, z = intensity, fill = stat(level))) +
facet_wrap(vars(file)) +
stat_contour(geom = "polygon") +
scale_fill_viridis_c()
build_readme()
feem_dat %>%
ggplot(aes(excitation, em_regular, z = intensity, fill = stat(level))) +
facet_wrap(vars(file)) +
stat_contour(geom = "polygon") +
scale_fill_viridis_c("intensity")
build_readme()
